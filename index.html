<h1>ID Scraper</h1>
<p>A bookmarklet for scraping IDs from a Zap Editor dropdown into a CSV you can share with a customer</p>
<p>Drag this bookmarklet link to your bookmark bar:</p>
<a href="javascript:void%20function(){var%20a=%22\%22Label\%22,\%22ID\%22\n%22,b=%22\%22Label\%22,\%22ID\%22%3Cbr%3E%22,c=window.location.pathname.split(%22nodes/%22),d=c[1].split(%22/%22),e=d[0];$(%22.choices%22).children().each(function(){var%20c=$(this).find(%22.choice-sample%22).text();if(c){var%20d=$(this).find(%22.choice-label%22).children().first().children().first().text(),e=%22\%22%22+d+%22\%22,\%22%22+c+%22\%22%22;a+=e+%22\r\n%22,b+=e+%22%3Cbr%3E%22}});var%20f=prompt(%22What's%20your%20Zapier%20email%3F%22);f%26%26$.get(%22https://hooks.zapier.com/hooks/catch/2003878/zyunoo/%22,{slack:f,node:e,csv:a}).done(function(){alert(%22Successfully%20sent%20to%20Zapbot!%20You'll%20get%20a%20DM%20with%20a%20link%20to%20your%20CSV%20in%20just%20a%20sec%22)}).fail(function(){alert(%22Bargle!%20GET%20request%20to%20Zapier%20failed,%20probably%20because%20the%20CSV%20is%20too%20long%20:(.%20No%20worries,%20I'm%20going%20to%20open%20two%20new%20tabs\u2014one%20with%20the%20CSV%20for%20you%20to%20copy%20and%20one%20for%20a%20form%20where%20you'll%20paste%20that%20CSV%20in!%22),window.open(%22https://zapier.formstack.com/forms/csv_generator_backup%3Fslack=%22+f+%22%26node=%22+e),window.open().document.write(b)})}();">Gimme IDs</a>
<p>Then, when you need to scrape some IDs from a Zap dropdown:</p>
<ol>
  <li>Open the dropdown you want to scrape.</li>
  <li>Scroll down and click the "Check [app] and reload to bring in new choices" button if you want to pull in more choices before exporting.</li>
  <li>Click on the bookmarklet</li>
  <li>You'll be prompted for your Slack usernameâ€”enter that and click OK</li>
  <li>The bookmarklet will try to send the CSV to a Zap then get one of two notifications:
  <li>
    <ol>
      <li>If the list is relatively short, a Zap will automatically create the CSV and send you a link in a Slack DM</li>
      <li>If the list is too long to send in a GET request, the Zap will alert you to this fact, then open two new tabs: a) a tab containing the contents of the CSV and b) a Formstack form. Copy the contents of the CSV into the field provided in the form and submit the form. A Zap will automatically create the CSV and send you a link in a Slack DM
    </ol>
  </li>

